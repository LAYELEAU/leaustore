
@if (produit(); as p) {
<section class="min-h-screen bg-gray-900 pt-28 pb-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <nav class="flex mb-8 text-sm text-white font-bold space-x-2">
            <a routerLink="/" class="hover:text-blue-600">Accueil</a>
            <span class="mx-2">/</span>
            <span class="capitalize">{{ p.categorie }}</span>
            <span class="mx-2">/</span>
            <span class="text-yellow-400 font-semibold">{{ p.nom }}</span>
        </nav>

        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100">
            <div class="grid grid-cols-1 lg:grid-cols-2">
                
                <div class="p-8 bg-gray-100/50 flex items-center justify-center group">
                    <div class="relative overflow-hidden rounded-2xl">
                        <img [src]="p.image" [alt]="p.nom" 
                             class="max-h-[500px] w-full object-contain transition-transform duration-500 group-hover:scale-110">
                        
                        @if (p.prix < 500) {
                            <span class="absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse">
                                OFFRE SPÉCIALE
                            </span>
                        }
                    </div>
                </div>

                <div class="p-8 lg:p-12 flex flex-col">
                    <div class="flex-1">
                        <span class="inline-block px-3 py-1 rounded-full bg-blue-100 text-blue-600 text-xs font-bold mb-4 uppercase tracking-widest">
                            {{ p.categorie }}
                        </span>
                        
                        <h1 class="text-4xl lg:text-5xl font-black text-gray-900 mb-4 leading-tight">
                            {{ p.nom }}
                        </h1>

                        <div class="flex items-center gap-2 mb-6">
                            <div class="flex text-yellow-400 text-sm">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="text-gray-500 text-sm">(4.5/5 - 128 avis)</span>
                        </div>

                        <p class="text-3xl font-black text-blue-600 mb-8">
                            {{ p.prix }} €
                        </p>

                        <div class="prose prose-blue text-gray-600 mb-8">
                            <p class="leading-relaxed">{{ p.description }}</p>
                        </div>

                        <ul class="space-y-3 mb-8">
                            <li class="flex items-center gap-3 text-gray-700">
                                <i class="fas fa-check-circle text-green-500"></i>
                                <span>Garantie constructeur 2 ans</span>
                            </li>
                            <li class="flex items-center gap-3 text-gray-700">
                                <i class="fas fa-truck text-blue-500"></i>
                                <span>Livraison express offerte</span>
                            </li>
                        </ul>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4 mt-auto">
                         <button 
                                class="btn-cart flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/50 hover:-translate-y-0.5 cursor-pointer"
                                (click)="ajouterAuPanier()">
                                   <i class="fas fa-shopping-cart"></i>
                                    <span>Ajouter au Panier</span>
                             </button>
                        <button class="px-6 py-4 bg-gray-100 text-gray-400 rounded-2xl hover:text-red-500 hover:bg-red-50 transition-all duration-300">
                            <i class="fas fa-heart text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-12">
            <h3 class="text-2xl text-white font-bold mb-6">Spécifications techniques</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex justify-between p-4 bg-white rounded-xl border border-gray-100">
                    <span class="text-gray-500">Marque</span>
                    <span class="font-bold">TechStore Premium</span>
                </div>
                <div class="flex justify-between p-4 bg-white rounded-xl border border-gray-100">
                    <span class="text-gray-500">État</span>
                    <span class="font-bold text-green-600">Neuf</span>
                </div>
            </div>
        </div>
    </div>
</section>
} @else {
    <div class="min-h-screen flex items-center justify-center bg-gray-900">
        <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"></div>
    </div>
}
<section class="py-4">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl font-black text-black mb-12 text-center">
            Produits <span class="bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">Similaires</span>
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            @for (produit of produitsSimilaires(); track produit.id) {
                <div class="bg-white rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:shadow-xl hover:scale-105">
                    <img [src]="produit.image" [alt]="produit.nom" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold mb-2 text-gray-900 hover:text-blue-600 transition-colors cursor-pointer">{{ produit.nom }}
                        </h3>
                        <p class="text-gray-600 mb-4">{{ produit.description }}</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-lg font-bold text-blue-600">{{ produit.prix }}€</span>
                        </div>
                        <button 
                            class="btn-cart flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/50 hover:-translate-y-0.5 cursor-pointer"
                            (click)="ajouterAuPanier()">
                                <i class="fas fa-shopping-cart"></i>
                                <span>Ajouter au Panier</span>
                        </button>
                    </div>
                </div>
            }
        </div>
    </div>
</section>